<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ä»¶ç®¡ç†å™¨åº”ç”¨ - ä¸»ç•Œé¢</title>
    <link rel="icon" href="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%3E%3Crect%20width='16'%20height='16'%20fill='%23007acc'/%3E%3Ctext%20x='8'%20y='11'%20font-family='Arial'%20font-size='9'%20text-anchor='middle'%20fill='%23fff'%3EFM%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="base.css">
    <link rel="stylesheet" href="window-framework.css">
    <link rel="stylesheet" href="file-manager.css">
    <link rel="stylesheet" href="main.css">
</head>

<body>

    <!-- é¡¶éƒ¨æ ï¼ˆé»‘è‰²ï¼‰å†…éƒ¨çª—å£æ§åˆ¶æŒ‰é’®ï¼Œæ ·å¼ç¾åŒ– -->
    <!-- ...existing code... -->

    <div class="title-bar">
        <div class="title-text">æ–‡ä»¶ç®¡ç†å™¨åº”ç”¨ - ä¸»ç•Œé¢</div>
        <div class="window-controls">
            <button class="window-btn minimize-btn" title="æœ€å°åŒ–">
                <svg width="14" height="14" viewBox="0 0 14 14">
                    <rect x="3" y="10" width="8" height="2" rx="1" fill="#fff" />
                </svg>
            </button>
            <button class="window-btn maximize-btn" title="æœ€å¤§åŒ–">
                <svg width="14" height="14" viewBox="0 0 14 14">
                    <rect x="2.5" y="2.5" width="9" height="9" rx="2" fill="none" stroke="#fff" stroke-width="1.5" />
                </svg>
            </button>
            <button class="window-btn close-btn" title="å…³é—­">
                <svg width="14" height="14" viewBox="0 0 14 14">
                    <line x1="4" y1="4" x2="10" y2="10" stroke="#fff" stroke-width="1.5" />
                    <line x1="10" y1="4" x2="4" y2="10" stroke="#fff" stroke-width="1.5" />
                </svg>
            </button>
        </div>
    </div>

    <div class="content">
        <div class="left-panel">
            <div class="left-sidebar">
                <div class="logo-loader-container">
                    <div class="logo">FM</div>
                    <div class="loader"></div>
                </div>
                <ul class="menu-list">
                    <li class="menu-item active" data-target="page-filemanager">æ–‡ä»¶ç®¡ç†å™¨</li>
                    <li class="menu-item" data-target="page-auto-submit">è‡ªåŠ¨æäº¤</li>
                    <li class="menu-item" data-target="page-workflow">å·¥ä½œæµ</li>
                    <li class="menu-item" data-target="page-settings">è®¾ç½®</li>
                    <li class="menu-item" data-target="page-docs">æ–‡æ¡£</li>
                    <li class="menu-item" data-target="page-help">å¸®åŠ©</li>
                    <li class="menu-item" data-target="page-about">å…³äº</li>
                </ul>
            </div>
            <div class="left-content">
                <!-- é¡µé¢ï¼šæ–‡ä»¶ç®¡ç†ï¼ˆé»˜è®¤æ˜¾ç¤ºï¼‰ -->
                <div id="page-filemanager" class="left-page">
                    <div class="scm-panel">
                        <div class="scm-header">
                            <button class="scm-branch-btn"><span class="branch-icon">ğŸŒ¿</span> <span class="branch-label">åˆ†æ”¯:</span> <span class="branch-name">main</span></button>
                            <!-- åœ¨æäº¤ä¿¡æ¯è¾“å…¥æ¡†ä¸‹æ–¹æ·»åŠ æŒ‰é’®ç»„ -->
                            <div class="scm-actions">
                                <input id="commit-input" class="scm-commit-input" placeholder="å¡«å†™æäº¤ä¿¡æ¯ï¼ˆä¾‹å¦‚: ä¿®å¤æ ·å¼ï¼‰">
                                <div class="scm-button-group">
                                    <button id="commit-btn" class="scm-btn">æäº¤</button>
                                    <button id="push-btn" class="scm-btn primary">æ¨é€</button>
                                    <button id="auto-btn" class="scm-btn auto" title="æäº¤å¹¶æ¨é€">æäº¤å¹¶æ¨é€</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="file-manager compact">
                        <div class="file-header">
                            <div class="file-header-item file-size">å¤§å°</div>
                            <div class="file-header-item file-name">åç§°</div>
                        </div>
                        <div class="file-list"></div>
                    </div>
                </div>

                <!-- å…¶ä»–é¡µé¢ -->
                <div id="page-auto-submit" class="left-page" style="display:none; padding:8px;">
                    <div style="margin-bottom:8px; display:flex; gap:8px; align-items:center;">
                        <button id="auto-start-btn" class="control-btn primary">å¯åŠ¨</button>
                        <button id="auto-stop-btn" class="control-btn" style="display:none;">åœæ­¢</button>
                        <div style="margin-left:auto;">
                            <button id="auto-run-now-btn" class="control-btn">ç«‹å³è¿è¡Œ</button>
                        </div>
                    </div>
                    <div class="node-info" style="border:1px solid var(--border-color); padding:10px; border-radius:6px; background:var(--panel-bg);">
                        <div><strong>èŠ‚ç‚¹åç§°:</strong> <span id="node-name">æœ¬åœ°èŠ‚ç‚¹</span></div>
                        <div><strong>çŠ¶æ€:</strong> <span id="node-status">ç©ºé—²</span></div>
                        <div><strong>ä¸Šæ¬¡è¿è¡Œ:</strong> <span id="node-last">-</span></div>
                        <div style="margin-top:8px;"><strong>è¯¦æƒ…:</strong> <span id="node-details">-</span></div>
                    </div>
                    <!-- å·¥ä½œæµæ˜¾ç¤ºå·²å–æ¶ˆ -->
                </div>

                <div id="page-settings" class="left-page" style="display:none; padding:16px;">
                    <h3>è®¾ç½®é¡µé¢</h3>
                    <p>è¿™æ˜¯è®¾ç½®é¡µé¢å†…å®¹ï¼ˆä¸»ç•Œé¢ï¼‰</p>
                </div>
                <div id="page-docs" class="left-page" style="display:none; padding:16px;">
                    <h3>æ–‡æ¡£é¡µé¢</h3>
                    <p>è¿™æ˜¯æ–‡æ¡£é¡µé¢å†…å®¹ï¼ˆä¸»ç•Œé¢ï¼‰</p>
                </div>
                <div id="page-help" class="left-page" style="display:none; padding:16px;">
                    <h3>å¸®åŠ©é¡µé¢</h3>
                    <p>è¿™æ˜¯å¸®åŠ©é¡µé¢å†…å®¹ï¼ˆä¸»ç•Œé¢ï¼‰</p>
                </div>
                <div id="page-about" class="left-page" style="display:none; padding:16px;">
                    <h3>å…³äºé¡µé¢</h3>
                    <p>æ–‡ä»¶ç®¡ç†å™¨åº”ç”¨ v1.0 - ä¸»ç•Œé¢ç‰ˆæœ¬</p>
                </div>

                <!-- é¡µé¢ï¼šå·¥ä½œæµ -->
                <div id="page-workflow" class="left-page" style="display:none; padding:8px;">
                    <!-- å·¥ä½œæµç¼–è¾‘å™¨å°†é€šè¿‡iframeå¼•å…¥ -->
                    <iframe id="workflow-iframe" src="workflow-new.html" style="width:100%; height:100%; border:none;"></iframe>
                </div>
            </div>
        </div>
        <div class="right-panel">
            <div class="top-controls" style="padding:16px;">
                <div class="control-row" style="margin-bottom:8px;">
                    <input type="text" id="path-input" class="url-input" placeholder="åœ¨æ­¤è¾“å…¥ Windows è·¯å¾„ï¼Œä¾‹å¦‚ C:\\Users\\Public">
                    <button class="control-btn" id="list-btn">åˆ—å‡ºè·¯å¾„</button>
                </div>
                <div class="control-row">
                    <input type="text" id="github-input" class="url-input" placeholder="å¡«å…¥ GitHub ä»“åº“ URLï¼Œä¾‹å¦‚ https://github.com/user/repo">
                    <button class="control-btn" id="github-btn">å¯¼å…¥ GitHub</button>
                </div>
            </div>

            <div class="fixed-container">
                <div class="control-section">
                    <div class="control-row">
                        <button class="control-btn" id="refresh-btn">åˆ·æ–°</button>
                        <input type="text" class="url-input" placeholder="æœç´¢æ–‡ä»¶...">
                    </div>
                </div>

                <div class="terminal">
                    <div class="terminal-content">
                        $ æ–‡ä»¶ç®¡ç†å™¨å·²å¯åŠ¨ï¼ˆä¸»ç•Œé¢ï¼‰$ å½“å‰ç›®å½•: C:\Users\Documents $ ç³»ç»Ÿè¿è¡Œæ­£å¸¸...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å·¥ä½œæµç¼–è¾‘å™¨ç›¸å…³ä»£ç å·²ç§»é™¤ï¼Œç°åœ¨é€šè¿‡iframeå¼•å…¥workflow-new.html

        // é¡µé¢åˆ‡æ¢åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const menuItems = document.querySelectorAll('.menu-item');
            const pages = document.querySelectorAll('.left-page');


            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰activeç±»
                    menuItems.forEach(i => i.classList.remove('active'));
                    // éšè—æ‰€æœ‰é¡µé¢
                    pages.forEach(page => page.style.display = 'none');

                    // è®¾ç½®å½“å‰active
                    this.classList.add('active');
                    const target = this.getAttribute('data-target');
                    document.getElementById(target).style.display = 'block';
                });
            });

            // è‡ªåŠ¨æäº¤é¡µé¢äº¤äº’
            function setNodeInfo(info) {
                const name = document.getElementById('node-name');
                const status = document.getElementById('node-status');
                const last = document.getElementById('node-last');
                const details = document.getElementById('node-details');
                if (name) name.textContent = info.name || 'æœ¬åœ°èŠ‚ç‚¹';
                if (status) status.textContent = info.status || 'ç©ºé—²';
                if (last) last.textContent = info.last || '-';
                if (details) details.textContent = info.details || '-';
            }

            // å·¥ä½œæµç¼–è¾‘å™¨å·²åœ¨å·¥å…·æ ä¸­é€šè¿‡onclickäº‹ä»¶ç»‘å®š

            const start = document.getElementById('auto-start-btn');
            const stop = document.getElementById('auto-stop-btn');
            if (start && stop) {
                start.addEventListener('click', function() {
                    start.style.display = 'none';
                    stop.style.display = '';
                    setNodeInfo({
                        name: 'æœ¬åœ°èŠ‚ç‚¹',
                        status: 'è¿è¡Œä¸­',
                        last: new Date().toLocaleString(),
                        details: 'è‡ªåŠ¨ä»»åŠ¡å·²å¯åŠ¨ï¼ˆä¸»ç•Œé¢ï¼‰ã€‚'
                    });
                });
                stop.addEventListener('click', function() {
                    stop.style.display = 'none';
                    start.style.display = '';
                    setNodeInfo({
                        name: 'æœ¬åœ°èŠ‚ç‚¹',
                        status: 'å·²åœæ­¢',
                        last: new Date().toLocaleString(),
                        details: 'è‡ªåŠ¨ä»»åŠ¡å·²åœæ­¢ï¼ˆä¸»ç•Œé¢ï¼‰ã€‚'
                    });
                });
            }
        });
    </script>
</body>

</html>